(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var n=function(){function t(e,n,r,o,i,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._templateSelector=n,this._handleCardClick=r,this._handleCardRemove=o,this._handleCardLike=i,this._link=e.link,this._title=e.name,this._data=e,this._cardId=e._id,this._userId=u,this._ownerId=e.owner._id,this._likes=e.likes,this._isLike=!1}var n,r;return n=t,(r=[{key:"setLikes",value:function(t){var e=this._likes.findIndex((function(e){return e._id===t._id}));-1!==e?(this._likes.splice(e,1),this._isLike=!1):(this._likes.push(t),this._isLike=!0),this._likesCounter.textContent=this._likes.length,this._btnLike.classList.toggle("element__button-like_active")}},{key:"delete",value:function(){this._element.remove(),this._element=null}},{key:"_getTemplate",value:function(){this._template=document.querySelector(this._templateSelector).content.querySelector(".element")}},{key:"create",value:function(){var t=this;return this._card=this._getTemplate(),this._element=this._template.cloneNode(!0),this._cardImg=this._element.querySelector(".element__img"),this._cardTitle=this._element.querySelector(".element__title"),this._btnLike=this._element.querySelector(".element__button-like"),this._btnDelete=this._element.querySelector(".element__del-btn"),this._likesCounter=this._element.querySelector(".element__like-counter"),this._ownerId!==this._userId&&this._btnDelete.remove(),this._cardImg.src=this._data.link,this._cardTitle.textContent=this._data.name,this._cardImg.alt=this._data.name,this._likesCounter.textContent=this._likes.length,this._likes.forEach((function(e){e._id===t._userId&&(t._btnLike.classList.add("element__button-like_active"),t._isLike=!0)})),this._btnLike.addEventListener("click",(function(){t._handleCardLike(t,t._cardId)})),this._btnDelete.addEventListener("click",(function(){t._handleCardRemove(t)})),this._cardImg.addEventListener("click",(function(){t._handleCardClick(t._title,t._link)})),this._likesCounter.addEventListener("click",(function(){t._handleCardLike(t,t._cardId)})),this._element}},{key:"isLike",get:function(){return this._isLike}}])&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._formElement=n,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}var e,n;return e=t,(n=[{key:"_hideInputError",value:function(t){var e=this._formElement.querySelector(".".concat(t.id,"-error"));e.classList.remove(this._config.errorClass),t.classList.remove(this._config.inputErrorClass),e.textContent=""}},{key:"_showInputError",value:function(t,e){var n=this._formElement.querySelector(".".concat(t.id,"-error"));n.classList.add(this._config.errorClass),n.textContent=e,t.classList.add(this._config.inputErrorClass)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_disableButton",value:function(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"_enableButton",value:function(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._disableButton():this._enableButton()}},{key:"_setEventListeners",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"resetValidation",value:function(){var t=this;this._inputList.forEach((function(e){t._checkInputValidity(e)})),this._toggleButtonState()}},{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(t){t.preventDefault()})),this._setEventListeners()}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===u(o)?o:String(o)),r)}var o}var a=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=n}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){var e=this;t.reverse().forEach((function(t){e._renderer(t)}))}},{key:"addNewItem",value:function(t){this._container.prepend(t)}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),l={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_inactive",inputErrorClass:".popup__input-error",errorClass:"popup__input-error_visible",typeError:".popup__input_type_error"};function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=e,this._buttonClose=this._popup.querySelector(".popup__button-closed"),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_closePopupByOverlayClick",value:function(t){t.target.classList.contains("popup")&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._buttonClose.addEventListener("click",(function(){t.close()})),this._popup.addEventListener("mousedown",(function(e){t._closePopupByOverlayClick(e)}))}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==y(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},m.apply(this,arguments)}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(o){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e,n=t.popupSelector,r=t.formSubmit;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._popup=n,e._formSubmit=r,e._form=e._popup.querySelector(".popup__form"),e._btnSubmit=e._popup.querySelector(".popup__submit"),e._inputList=e._form.querySelectorAll(".popup__input"),e}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._inputValues={},this._inputList.forEach((function(e){return t._inputValues[e.name]=e.value})),this._inputValues}},{key:"setButtonText",value:function(t){this._btnSubmit.textContent=t}},{key:"setEventListeners",value:function(){var t=this;m(v(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._formSubmit(t._getInputValues()),t.close()}))}},{key:"close",value:function(){m(v(u.prototype),"close",this).call(this),this._form.reset()}}])&&h(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===b(o)?o:String(o)),r)}var o}var g=function(){function t(e){var n=e.name,r=e.about,o=e.avatar;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=n,this._info=r,this._avatar=o}var e,n;return e=t,n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,info:this._info.textContent,avatar:this._avatar.src}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about,r=t.avatar;this._avatar.src=r,this._name.textContent=e,this._info.textContent=n}}],n&&S(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function w(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==k(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===k(o)?o:String(o)),r)}var o}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},E.apply(this,arguments)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}var P=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=j(r);if(o){var n=j(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popup=t,e._popupImg=e._popup.querySelector(".popup__img"),e._popupTitle=e._popup.querySelector(".popup__title-img"),e}return e=u,n=[{key:"open",value:function(t,e){this._popupImg.src=e,this._popupImg.alt=t,this._popupTitle.textContent=t,E(j(u.prototype),"open",this).call(this)}}],n&&w(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function C(t){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==C(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===C(o)?o:String(o)),r)}var o}var I=function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))},T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers}var e,n;return e=t,n=[{key:"installAvatar",value:function(t){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(I)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{headers:this._headers}).then(I)}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.about;return fetch("".concat(this._url,"/users/me"),{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,about:n})}).then(I)}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/cards"),{headers:this._headers}).then(I)}},{key:"getPlaceCard",value:function(t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})}).then(I)}},{key:"likeCard",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then(I)}},{key:"likeRemove",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t,"/likes"),{method:"PUT",headers:this._headers}).then(I)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url,"/cards/").concat(t),{method:"DELETE",headers:this._headers}).then(I)}}],n&&L(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(r.key),"symbol"===q(o)?o:String(o)),r)}var o}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},x.apply(this,arguments)}function B(t,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},B(t,e)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(r);if(o){var n=V(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,t))._btnSubmit=n._popup.querySelector(".popup__submit"),n._form=n._popup.querySelector(".popup__form"),n._confirmFormSubmit=e,n}return e=u,(n=[{key:"open",value:function(t,e){x(V(u.prototype),"open",this).call(this),this._cardId=t,this._card=e}},{key:"setButtonText",value:function(t){this._btnSubmit.textContent=t}},{key:"setEventListeners",value:function(){var t=this;x(V(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._confirmFormSubmit(t._cardId,t._card),x(V(u.prototype),"close",t).call(t)}))}}])&&R(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(p);function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U,N=document.querySelector(".popup-edit"),J=document.querySelector(".profile__edit-button"),F=document.querySelector(".popup__input_text_type-username"),H=document.querySelector(".popup__input_text_type-about"),M=document.querySelector(".profile__title"),z=document.querySelector(".profile__subtitle"),$=document.querySelector(".profile__avatar"),G=document.querySelector(".popup-add"),K=document.querySelector(".profile__add-button"),Q=document.querySelector(".popup-add__form"),W=document.querySelector(".popup-edit__form"),X=document.querySelector(".popup-avatar"),Y=document.querySelector(".popup-avatar__form"),Z=document.querySelector(".popup-warning"),tt=document.querySelector(".profile__avatar-edit-btn"),et=document.querySelector(".elements"),nt=document.querySelector(".popup_open_big-img"),rt=new T({url:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{authorization:"2c59af59-10dc-43f4-ae75-be202fc5c582","Content-Type":"application/json"}});console.log(Q);var ot=new P(nt),it=new g({name:M,about:z,avatar:$});Promise.all([rt.getUserInfo(),rt.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,u,c=[],a=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(c.push(r.value),c.length!==e);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(l)throw o}}return c}}(e,n)||function(t,e){if(t){if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];it.setUserInfo(o),U=o._id,ut.renderItems(i)})).catch((function(t){console.log(t)}));var ut=new a({renderer:function(t){ut.addNewItem(ct(t))}},et),ct=function(t){return new n(t,"#element-template",ft,st,at,U).create()};function at(t,e){t.isLike?rt.likeRemove(e).then((function(e){t.setLikes(e.likes)})).catch((function(t){return console.log(t)})):rt.likeCard(e).then((function(e){t.setLikes(e.likes)})).catch((function(t){return console.log(t)}))}var lt=new A(Z,(function(t){lt.setButtonText("Удаление..."),rt.deleteCard(t._cardId).then((function(){t.delete()})).catch((function(t){console.log(t)})).finally((function(){lt.setButtonText("Да")}))}));function st(t,e){lt.open(t,e)}function ft(t,e){ot.open(t,e)}lt.setEventListeners(),ot.setEventListeners();var pt=new _({popupSelector:G,formSubmit:function(t){pt.setButtonText("Сохранение..."),rt.getPlaceCard(t).then((function(t){ut.addNewItem(ct(t))})).catch((function(t){console.log(t)})).finally((function(){pt.setButtonText("Создать")}))}});pt.setEventListeners();var yt=new _({popupSelector:N,formSubmit:function(t){yt.setButtonText("Сохранение..."),rt.setUserInfo(t).then((function(t){it.setUserInfo(t),yt.close()})).catch((function(t){console.log(t)})).finally((function(){yt.setButtonText("Сохранить")}))}});yt.setEventListeners();var ht=new _({popupSelector:X,formSubmit:function(t){rt.installAvatar(t.avatar).then((function(t){it.setUserInfo(t),ht.close()})).catch((function(t){console.log(t)}))}});ht.setEventListeners(),K.addEventListener("click",(function(){dt.resetValidation(),pt.open()})),tt.addEventListener("click",(function(){vt.resetValidation(),ht.open()})),J.addEventListener("click",(function(){var t=it.getUserInfo(),e=t.name,n=t.info;F.value=e,H.value=n,mt.resetValidation(),yt.open()}));var mt=new i(l,W);mt.enableValidation();var dt=new i(l,Q);dt.enableValidation();var vt=new i(l,Y);vt.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi44MDA1YzZkMzg4YWY5MmFmNWNjZi5qcyIsIm1hcHBpbmdzIjoic3JCQUFPLElBQU1BLEVBQUksV0FDZixTQUFBQSxFQUNFQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxFQUNBQyxJLDRGQUNBQyxDQUFBLEtBQUFQLEdBQ0FRLEtBQUtDLGtCQUFvQlAsRUFFekJNLEtBQUtFLGlCQUFtQlAsRUFDeEJLLEtBQUtHLGtCQUFvQlAsRUFDekJJLEtBQUtJLGdCQUFrQlAsRUFFdkJHLEtBQUtLLE1BQVFaLEVBQUthLEtBQ2xCTixLQUFLTyxPQUFTZCxFQUFLZSxLQUNuQlIsS0FBS1MsTUFBUWhCLEVBQ2JPLEtBQUtVLFFBQVVqQixFQUFLa0IsSUFDcEJYLEtBQUtZLFFBQVVkLEVBQ2ZFLEtBQUthLFNBQVdwQixFQUFLcUIsTUFBTUgsSUFDM0JYLEtBQUtlLE9BQVN0QixFQUFLdUIsTUFDbkJoQixLQUFLaUIsU0FBVSxDQUNqQixDLFFBd0VDLE8sRUF4RUF6QixHLEVBQUEsRUFBQTBCLElBQUEsV0FBQUMsTUFFRCxTQUFTQyxHQUNQLElBQU1DLEVBQVFyQixLQUFLZSxPQUFPTyxXQUFVLFNBQUNDLEdBQUksT0FBS0EsRUFBS1osTUFBUVMsRUFBWVQsR0FBRyxLQUUzRCxJQUFYVSxHQUNGckIsS0FBS2UsT0FBT1MsT0FBT0gsRUFBTyxHQUMxQnJCLEtBQUtpQixTQUFVLElBRWZqQixLQUFLZSxPQUFPVSxLQUFLTCxHQUNqQnBCLEtBQUtpQixTQUFVLEdBR2pCakIsS0FBSzBCLGNBQWNDLFlBQWMzQixLQUFLZSxPQUFPYSxPQUM3QzVCLEtBQUs2QixTQUFTQyxVQUFVQyxPQUFPLDhCQUNqQyxHQUFDLENBQUFiLElBQUEsU0FBQUMsTUFFRCxXQUNFbkIsS0FBS2dDLFNBQVNDLFNBQ2RqQyxLQUFLZ0MsU0FBVyxJQUNsQixHQUFDLENBQUFkLElBQUEsZUFBQUMsTUFFRCxXQUNFbkIsS0FBS2tDLFVBQVlDLFNBQ2RDLGNBQWNwQyxLQUFLQyxtQkFDbkJvQyxRQUFRRCxjQUFjLFdBQzNCLEdBQUMsQ0FBQWxCLElBQUEsU0FBQUMsTUFFRCxXQUFTLElBQUFtQixFQUFBLEtBdUNQLE9BdENBdEMsS0FBS3VDLE1BQVF2QyxLQUFLd0MsZUFDbEJ4QyxLQUFLZ0MsU0FBV2hDLEtBQUtrQyxVQUFVTyxXQUFVLEdBQ3pDekMsS0FBSzBDLFNBQVcxQyxLQUFLZ0MsU0FBU0ksY0FBYyxpQkFDNUNwQyxLQUFLMkMsV0FBYTNDLEtBQUtnQyxTQUFTSSxjQUFjLG1CQUM5Q3BDLEtBQUs2QixTQUFXN0IsS0FBS2dDLFNBQVNJLGNBQWMseUJBQzVDcEMsS0FBSzRDLFdBQWE1QyxLQUFLZ0MsU0FBU0ksY0FBYyxxQkFDOUNwQyxLQUFLMEIsY0FBZ0IxQixLQUFLZ0MsU0FBU0ksY0FBYywwQkFFN0NwQyxLQUFLYSxXQUFhYixLQUFLWSxTQUFTWixLQUFLNEMsV0FBV1gsU0FFcERqQyxLQUFLMEMsU0FBU0csSUFBTTdDLEtBQUtTLE1BQU1ILEtBQy9CTixLQUFLMkMsV0FBV2hCLFlBQWMzQixLQUFLUyxNQUFNRCxLQUN6Q1IsS0FBSzBDLFNBQVNJLElBQU05QyxLQUFLUyxNQUFNRCxLQUMvQlIsS0FBSzBCLGNBQWNDLFlBQWMzQixLQUFLZSxPQUFPYSxPQUU3QzVCLEtBQUtlLE9BQU9nQyxTQUFRLFNBQUN4QixHQUNmQSxFQUFLWixNQUFRMkIsRUFBSzFCLFVBQ3BCMEIsRUFBS1QsU0FBU0MsVUFBVWtCLElBQUksK0JBQzVCVixFQUFLckIsU0FBVSxFQUVuQixJQUVBakIsS0FBSzZCLFNBQVNvQixpQkFBaUIsU0FBUyxXQUN0Q1gsRUFBS2xDLGdCQUFnQmtDLEVBQU1BLEVBQUs1QixRQUNsQyxJQUVBVixLQUFLNEMsV0FBV0ssaUJBQWlCLFNBQVMsV0FDeENYLEVBQUtuQyxrQkFBa0JtQyxFQUN6QixJQUVBdEMsS0FBSzBDLFNBQVNPLGlCQUFpQixTQUFTLFdBQ3RDWCxFQUFLcEMsaUJBQWlCb0MsRUFBSy9CLE9BQVErQixFQUFLakMsTUFDMUMsSUFFQUwsS0FBSzBCLGNBQWN1QixpQkFBaUIsU0FBUyxXQUMzQ1gsRUFBS2xDLGdCQUFnQmtDLEVBQU1BLEVBQUs1QixRQUNsQyxJQUVPVixLQUFLZ0MsUUFDZCxHQUFDLENBQUFkLElBQUEsU0FBQWdDLElBRUQsV0FDRSxPQUFPbEQsS0FBS2lCLE9BQ2QsTSxvRUFBQ3pCLENBQUEsQ0EvRmMsRyxtcUJDQVYsSUFBTTJELEVBQWMsV0FDekIsU0FBQUEsRUFBWUMsRUFBUUMsSSw0RkFBYXRELENBQUEsS0FBQW9ELEdBQy9CbkQsS0FBS3NELFFBQVVGLEVBQ2ZwRCxLQUFLdUQsYUFBZUYsRUFFcEJyRCxLQUFLd0QsV0FBYUMsTUFBTUMsS0FDdEIxRCxLQUFLdUQsYUFBYUksaUJBQWlCM0QsS0FBS3NELFFBQVFNLGdCQUVsRDVELEtBQUs2RCxlQUFpQjdELEtBQUt1RCxhQUFhbkIsY0FDdENwQyxLQUFLc0QsUUFBUVEscUJBRWpCLEMsUUEyRUMsTyxFQTNFQVgsRyxFQUFBLEVBQUFqQyxJQUFBLGtCQUFBQyxNQUVELFNBQWdCNEMsR0FDZCxJQUFNQyxFQUFlaEUsS0FBS3VELGFBQWFuQixjQUFjLElBQUQ2QixPQUM5Q0YsRUFBYUcsR0FBRSxXQUdyQkYsRUFBYWxDLFVBQVVHLE9BQU9qQyxLQUFLc0QsUUFBUWEsWUFDM0NKLEVBQWFqQyxVQUFVRyxPQUFPakMsS0FBS3NELFFBQVFjLGlCQUMzQ0osRUFBYXJDLFlBQWMsRUFDN0IsR0FBQyxDQUFBVCxJQUFBLGtCQUFBQyxNQUVELFNBQWdCNEMsRUFBY00sR0FDNUIsSUFBTUwsRUFBZWhFLEtBQUt1RCxhQUFhbkIsY0FBYyxJQUFENkIsT0FDOUNGLEVBQWFHLEdBQUUsV0FHckJGLEVBQWFsQyxVQUFVa0IsSUFBSWhELEtBQUtzRCxRQUFRYSxZQUN4Q0gsRUFBYXJDLFlBQWMwQyxFQUMzQk4sRUFBYWpDLFVBQVVrQixJQUFJaEQsS0FBS3NELFFBQVFjLGdCQUMxQyxHQUFDLENBQUFsRCxJQUFBLHNCQUFBQyxNQUVELFNBQW9CNEMsR0FDZEEsRUFBYU8sU0FBU0MsTUFDeEJ2RSxLQUFLd0UsZ0JBQWdCVCxHQUVyQi9ELEtBQUt5RSxnQkFBZ0JWLEVBQWNBLEVBQWFXLGtCQUVwRCxHQUFDLENBQUF4RCxJQUFBLG1CQUFBQyxNQUVELFdBQ0UsT0FBT25CLEtBQUt3RCxXQUFXbUIsTUFBSyxTQUFDWixHQUFZLE9BQU1BLEVBQWFPLFNBQVNDLEtBQUssR0FDNUUsR0FBQyxDQUFBckQsSUFBQSxpQkFBQUMsTUFFRCxXQUNFbkIsS0FBSzZELGVBQWUvQixVQUFVa0IsSUFBSWhELEtBQUtzRCxRQUFRc0IscUJBQy9DNUUsS0FBSzZELGVBQWVnQixVQUFXLENBQ2pDLEdBQUMsQ0FBQTNELElBQUEsZ0JBQUFDLE1BRUQsV0FDRW5CLEtBQUs2RCxlQUFlL0IsVUFBVUcsT0FBT2pDLEtBQUtzRCxRQUFRc0IscUJBQ2xENUUsS0FBSzZELGVBQWVnQixVQUFXLENBQ2pDLEdBQUMsQ0FBQTNELElBQUEscUJBQUFDLE1BRUQsV0FDTW5CLEtBQUs4RSxtQkFDUDlFLEtBQUsrRSxpQkFFTC9FLEtBQUtnRixlQUVULEdBQUMsQ0FBQTlELElBQUEscUJBQUFDLE1BRUQsV0FBcUIsSUFBQW1CLEVBQUEsS0FDbkJ0QyxLQUFLaUYscUJBRUxqRixLQUFLd0QsV0FBV1QsU0FBUSxTQUFDZ0IsR0FDdkJBLEVBQWFkLGlCQUFpQixTQUFTLFdBQ3JDWCxFQUFLNEMsb0JBQW9CbkIsR0FDekJ6QixFQUFLMkMsb0JBQ1AsR0FDRixHQUNGLEdBQUMsQ0FBQS9ELElBQUEsa0JBQUFDLE1BRUQsV0FBa0IsSUFBQWdFLEVBQUEsS0FDaEJuRixLQUFLd0QsV0FBV1QsU0FBUSxTQUFDZ0IsR0FDdkJvQixFQUFLRCxvQkFBb0JuQixFQUMzQixJQUNBL0QsS0FBS2lGLG9CQUNQLEdBQUMsQ0FBQS9ELElBQUEsbUJBQUFDLE1BRUQsV0FDRW5CLEtBQUt1RCxhQUFhTixpQkFBaUIsVUFBVSxTQUFDbUMsR0FDNUNBLEVBQUVDLGdCQUNKLElBQ0FyRixLQUFLc0Ysb0JBQ1AsTSxvRUFBQ25DLENBQUEsQ0F0RndCLEcsbXFCQ0FwQixJQUFNb0MsRUFBTyxXQUNsQixTQUFBQSxFQUFBQyxFQUEwQkMsR0FBVSxJQUF0QkMsRUFBUUYsRUFBUkUsVSw0RkFBUTNGLENBQUEsS0FBQXdGLEdBQ3BCdkYsS0FBSzJGLFVBQVlELEVBRWpCMUYsS0FBSzRGLFdBQWFILENBQ3BCLEMsUUFVQyxPLEVBVkFGLEcsRUFBQSxFQUFBckUsSUFBQSxjQUFBQyxNQUVELFNBQVkwRSxHQUFPLElBQUF2RCxFQUFBLEtBQ2pCdUQsRUFBTUMsVUFBVS9DLFNBQVEsU0FBQ2dELEdBQ3ZCekQsRUFBS3FELFVBQVVJLEVBQ2pCLEdBQ0YsR0FBQyxDQUFBN0UsSUFBQSxhQUFBQyxNQUVELFNBQVc2RSxHQUNUaEcsS0FBSzRGLFdBQVdLLFFBQVFELEVBQzFCLE0sb0VBQUNULENBQUEsQ0FmaUIsR0NRUFcsRUFBbUIsQ0FDNUJDLGFBQWMsZUFDZHZDLGNBQWUsZ0JBQ2ZFLHFCQUFzQixpQkFDdEJjLG9CQUFxQix5QkFDckJSLGdCQUFpQixzQkFDakJELFdBQVksNkJBQ1ppQyxVQUFXLDRCLHVxQkNmTUMsRUFBSyxXQUN4QixTQUFBQSxFQUFZQyxJLDRGQUFldkcsQ0FBQSxLQUFBc0csR0FDekJyRyxLQUFLdUcsT0FBU0QsRUFDZHRHLEtBQUt3RyxhQUFleEcsS0FBS3VHLE9BQU9uRSxjQUFjLHlCQUM5Q3BDLEtBQUt5RyxnQkFBa0J6RyxLQUFLeUcsZ0JBQWdCQyxLQUFLMUcsS0FDbkQsQyxRQWdDQyxPLEVBaENBcUcsRyxFQUFBLEVBQUFuRixJQUFBLE9BQUFDLE1BRUQsV0FDRW5CLEtBQUt1RyxPQUFPekUsVUFBVWtCLElBQUksZ0JBQzFCYixTQUFTYyxpQkFBaUIsVUFBV2pELEtBQUt5RyxnQkFDNUMsR0FBQyxDQUFBdkYsSUFBQSxRQUFBQyxNQUVELFdBQ0VuQixLQUFLdUcsT0FBT3pFLFVBQVVHLE9BQU8sZ0JBQzdCRSxTQUFTd0Usb0JBQW9CLFVBQVczRyxLQUFLeUcsZ0JBQy9DLEdBQUMsQ0FBQXZGLElBQUEsa0JBQUFDLE1BRUQsU0FBZ0J5RixHQUNFLFdBQVpBLEVBQUkxRixLQUNObEIsS0FBSzZHLE9BRVQsR0FBQyxDQUFBM0YsSUFBQSw0QkFBQUMsTUFFRCxTQUEwQnlGLEdBQ3BCQSxFQUFJRSxPQUFPaEYsVUFBVWlGLFNBQVMsVUFDaEMvRyxLQUFLNkcsT0FFVCxHQUFDLENBQUEzRixJQUFBLG9CQUFBQyxNQUVELFdBQW9CLElBQUFtQixFQUFBLEtBQ2xCdEMsS0FBS3dHLGFBQWF2RCxpQkFBaUIsU0FBUyxXQUMxQ1gsRUFBS3VFLE9BQ1AsSUFFQTdHLEtBQUt1RyxPQUFPdEQsaUJBQWlCLGFBQWEsU0FBQzJELEdBQ3pDdEUsRUFBSzBFLDBCQUEwQkosRUFDakMsR0FDRixNLG9FQUFDUCxDQUFBLENBckN1QixHLGd2Q0NBRSxJQUVQWSxFQUFhLFNBQUFDLEkscVJBQUFDLENBQUFGLEVBQUFDLEdBQUEsSSxRQUFBRSxHLEVBQUFILEUscXJCQUNoQyxTQUFBQSxFQUFBekIsR0FBMkMsSUFBQWxELEVBQTdCZ0UsRUFBYWQsRUFBYmMsY0FBZWUsRUFBVTdCLEVBQVY2QixXQU9vQyxPLDRGQVAxQnRILENBQUEsS0FBQWtILElBQ3JDM0UsRUFBQThFLEVBQUFFLEtBQUEsS0FBTWhCLElBQ0RDLE9BQVNELEVBQ2RoRSxFQUFLaUYsWUFBY0YsRUFDbkIvRSxFQUFLa0YsTUFBUWxGLEVBQUtpRSxPQUFPbkUsY0FBYyxnQkFDdkNFLEVBQUttRixXQUFhbkYsRUFBS2lFLE9BQU9uRSxjQUFjLGtCQUU1Q0UsRUFBS2tCLFdBQWFsQixFQUFLa0YsTUFBTTdELGlCQUFpQixpQkFBaUJyQixDQUNqRSxDQTZCQyxPLEVBN0JBMkUsRyxFQUFBLEVBQUEvRixJQUFBLGtCQUFBQyxNQUVELFdBQWtCLElBQUFnRSxFQUFBLEtBTWhCLE9BTEFuRixLQUFLMEgsYUFBZSxDQUFDLEVBRXJCMUgsS0FBS3dELFdBQVdULFNBQ2QsU0FBQzRFLEdBQUssT0FBTXhDLEVBQUt1QyxhQUFhQyxFQUFNbkgsTUFBUW1ILEVBQU14RyxLQUFLLElBRWxEbkIsS0FBSzBILFlBQ2QsR0FBQyxDQUFBeEcsSUFBQSxnQkFBQUMsTUFFRCxTQUFjeUcsR0FDWjVILEtBQUt5SCxXQUFXOUYsWUFBY2lHLENBQ2hDLEdBQUMsQ0FBQTFHLElBQUEsb0JBQUFDLE1BR0QsV0FBb0IsSUFBQTBHLEVBQUEsS0FDbEJDLEVBQUFDLEVBQUFkLEVBQUFlLFdBQUEsMEJBQUFWLEtBQUEsTUFFQXRILEtBQUt3SCxNQUFNdkUsaUJBQWlCLFVBQVUsU0FBQ21DLEdBQ3JDQSxFQUFFQyxpQkFDRndDLEVBQUtOLFlBQVlNLEVBQUtJLG1CQUN0QkosRUFBS2hCLE9BQ1AsR0FDRixHQUFDLENBQUEzRixJQUFBLFFBQUFDLE1BRUQsV0FDRTJHLEVBQUFDLEVBQUFkLEVBQUFlLFdBQUEsY0FBQVYsS0FBQSxNQUNBdEgsS0FBS3dILE1BQU1VLE9BQ2IsTSxvRUFBQ2pCLENBQUEsQ0F0QytCLENBQVNaLEcsbXFCQ0ZwQyxJQUFNOEIsRUFBUSxXQUNuQixTQUFBQSxFQUFBM0MsR0FBcUMsSUFBdkJoRixFQUFJZ0YsRUFBSmhGLEtBQU00SCxFQUFLNUMsRUFBTDRDLE1BQU9DLEVBQU03QyxFQUFONkMsUSw0RkFBTXRJLENBQUEsS0FBQW9JLEdBQy9CbkksS0FBS3NJLE1BQVE5SCxFQUNiUixLQUFLdUksTUFBUUgsRUFDYnBJLEtBQUt3SSxRQUFVSCxDQUNqQixDLFFBY0MsTyxFQWRBRixFLEVBQUEsRUFBQWpILElBQUEsY0FBQUMsTUFFRCxXQUNFLE1BQU8sQ0FDTFgsS0FBTVIsS0FBS3NJLE1BQU0zRyxZQUNqQjhHLEtBQU16SSxLQUFLdUksTUFBTTVHLFlBQ2pCMEcsT0FBUXJJLEtBQUt3SSxRQUFRM0YsSUFFekIsR0FBQyxDQUFBM0IsSUFBQSxjQUFBQyxNQUVELFNBQUF1SCxHQUFxQyxJQUF2QmxJLEVBQUlrSSxFQUFKbEksS0FBTTRILEVBQUtNLEVBQUxOLE1BQU9DLEVBQU1LLEVBQU5MLE9BQ3pCckksS0FBS3dJLFFBQVEzRixJQUFNd0YsRUFDbkJySSxLQUFLc0ksTUFBTTNHLFlBQWNuQixFQUN6QlIsS0FBS3VJLE1BQU01RyxZQUFjeUcsQ0FDM0IsSSx1RUFBQ0QsQ0FBQSxDQW5Ca0IsRyxndkNDQU8sSUFFUFEsRUFBYyxTQUFBekIsSSxxUkFBQUMsQ0FBQXdCLEVBQUF6QixHQUFBLEksUUFBQUUsRyxFQUFBdUIsRSxxckJBQ2pDLFNBQUFBLEVBQVlyQyxHQUFlLElBQUFoRSxFQUl5QyxPLDRGQUp6Q3ZDLENBQUEsS0FBQTRJLElBQ3pCckcsRUFBQThFLEVBQUFFLEtBQUEsS0FBTWhCLElBQ0RDLE9BQVNELEVBQ2RoRSxFQUFLc0csVUFBWXRHLEVBQUtpRSxPQUFPbkUsY0FBYyxlQUMzQ0UsRUFBS3VHLFlBQWN2RyxFQUFLaUUsT0FBT25FLGNBQWMscUJBQXFCRSxDQUNwRSxDQVFDLE8sRUFSQXFHLEUsRUFBQSxFQUFBekgsSUFBQSxPQUFBQyxNQUVELFNBQUsySCxFQUFPeEksR0FDVk4sS0FBSzRJLFVBQVUvRixJQUFNdkMsRUFDckJOLEtBQUs0SSxVQUFVOUYsSUFBTWdHLEVBQ3JCOUksS0FBSzZJLFlBQVlsSCxZQUFjbUgsRUFFL0JoQixFQUFBQyxFQUFBWSxFQUFBWCxXQUFBLGFBQUFWLEtBQUEsS0FDRixJLHVFQUFDcUIsQ0FBQSxDQWRnQyxDQUFTdEMsRyxtcUJDRjVDLElBQU0wQyxFQUFpQixTQUFDQyxHQUN0QixPQUFJQSxFQUFJQyxHQUNDRCxFQUFJRSxPQUVOQyxRQUFRQyxPQUFPLFdBQURuRixPQUFZK0UsRUFBSUssUUFDdkMsRUFFcUJDLEVBQUcsV0FDdEIsU0FBQUEsRUFBWWxHLEksNEZBQVFyRCxDQUFBLEtBQUF1SixHQUNsQnRKLEtBQUt1SixLQUFPbkcsRUFBT29HLElBQ25CeEosS0FBS3lKLFNBQVdyRyxFQUFPc0csT0FDekIsQyxRQWlFQyxPLEVBakVBSixFLEVBQUEsRUFBQXBJLElBQUEsZ0JBQUFDLE1BRUQsU0FBY3dJLEdBQ1osT0FBT0MsTUFBTSxHQUFEM0YsT0FBSWpFLEtBQUt1SixLQUFJLG9CQUFvQixDQUMzQ00sT0FBUSxRQUNSSCxRQUFTMUosS0FBS3lKLFNBQ2RLLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkIzQixPQUFRc0IsTUFFVE0sS0FBS2xCLEVBQ1YsR0FBQyxDQUFBN0gsSUFBQSxjQUFBQyxNQUVELFdBQ0UsT0FBT3lJLE1BQU0sR0FBRDNGLE9BQUlqRSxLQUFLdUosS0FBSSxhQUFhLENBQ3BDRyxRQUFTMUosS0FBS3lKLFdBQ2JRLEtBQUtsQixFQUNWLEdBQUMsQ0FBQTdILElBQUEsY0FBQUMsTUFFRCxTQUFBcUUsR0FBNkIsSUFBZmhGLEVBQUlnRixFQUFKaEYsS0FBTTRILEVBQUs1QyxFQUFMNEMsTUFDbEIsT0FBT3dCLE1BQU0sR0FBRDNGLE9BQUlqRSxLQUFLdUosS0FBSSxhQUFhLENBQ3BDRyxRQUFTMUosS0FBS3lKLFNBQ2RJLE9BQVEsUUFDUkMsS0FBTUMsS0FBS0MsVUFBVSxDQUNuQnhKLEtBQU1BLEVBQ040SCxNQUFPQSxNQUVSNkIsS0FBS2xCLEVBQ1YsR0FBQyxDQUFBN0gsSUFBQSxrQkFBQUMsTUFFRCxXQUNFLE9BQU95SSxNQUFNLEdBQUQzRixPQUFJakUsS0FBS3VKLEtBQUksVUFBVSxDQUNqQ0csUUFBUzFKLEtBQUt5SixXQUNiUSxLQUFLbEIsRUFDVixHQUFDLENBQUE3SCxJQUFBLGVBQUFDLE1BRUQsU0FBYStJLEdBQ1gsT0FBT04sTUFBTSxHQUFEM0YsT0FBSWpFLEtBQUt1SixLQUFJLFVBQVUsQ0FDakNNLE9BQVEsT0FDUkgsUUFBUzFKLEtBQUt5SixTQUNkSyxLQUFNQyxLQUFLQyxVQUFVLENBQ25CeEosS0FBTTBKLEVBQVkxSixLQUNsQkYsS0FBTTRKLEVBQVk1SixTQUVuQjJKLEtBQUtsQixFQUNWLEdBQUMsQ0FBQTdILElBQUEsV0FBQUMsTUFFRCxTQUFTZ0osR0FDUCxPQUFPUCxNQUFNLEdBQUQzRixPQUFJakUsS0FBS3VKLEtBQUksV0FBQXRGLE9BQVVrRyxFQUFNLFVBQVUsQ0FDakROLE9BQVEsTUFDUkgsUUFBUzFKLEtBQUt5SixXQUNiUSxLQUFLbEIsRUFDVixHQUFDLENBQUE3SCxJQUFBLGFBQUFDLE1BRUQsU0FBV2dKLEdBQ1QsT0FBT1AsTUFBTSxHQUFEM0YsT0FBSWpFLEtBQUt1SixLQUFJLFdBQUF0RixPQUFVa0csRUFBTSxVQUFVLENBQ2pETixPQUFRLE1BQ1JILFFBQVMxSixLQUFLeUosV0FDYlEsS0FBS2xCLEVBQ1YsR0FBQyxDQUFBN0gsSUFBQSxhQUFBQyxNQUVELFNBQVdnSixHQUNULE9BQU9QLE1BQU0sR0FBRDNGLE9BQUlqRSxLQUFLdUosS0FBSSxXQUFBdEYsT0FBVWtHLEdBQVUsQ0FDM0NOLE9BQVEsU0FDUkgsUUFBUzFKLEtBQUt5SixXQUNiUSxLQUFLbEIsRUFDVixJLHVFQUFDTyxDQUFBLENBckVxQixHLGd2Q0NMakIsSUFBTWMsRUFBZ0IsU0FBQWxELEkscVJBQUFDLENBQUFpRCxFQUFBbEQsR0FBQSxJLFFBQUFFLEcsRUFBQWdELEUscXJCQUMzQixTQUFBQSxFQUFZOUQsRUFBZStELEdBQW1CLElBQUEvSCxFQUlBLE8sNEZBSkF2QyxDQUFBLEtBQUFxSyxJQUM1QzlILEVBQUE4RSxFQUFBRSxLQUFBLEtBQU1oQixJQUNEbUIsV0FBYW5GLEVBQUtpRSxPQUFPbkUsY0FBYyxrQkFDNUNFLEVBQUtrRixNQUFRbEYsRUFBS2lFLE9BQU9uRSxjQUFjLGdCQUN2Q0UsRUFBS2dJLG1CQUFxQkQsRUFBa0IvSCxDQUM5QyxDQW1CQyxPLEVBbkJBOEgsRyxFQUFBLEVBQUFsSixJQUFBLE9BQUFDLE1BRUQsU0FBS2dKLEVBQVFJLEdBQ1h6QyxFQUFBQyxFQUFBcUMsRUFBQXBDLFdBQUEsYUFBQVYsS0FBQSxNQUNBdEgsS0FBS1UsUUFBVXlKLEVBQ2ZuSyxLQUFLdUMsTUFBUWdJLENBQ2YsR0FBQyxDQUFBckosSUFBQSxnQkFBQUMsTUFFRCxTQUFjeUcsR0FDWjVILEtBQUt5SCxXQUFXOUYsWUFBY2lHLENBQ2hDLEdBQUMsQ0FBQTFHLElBQUEsb0JBQUFDLE1BRUQsV0FBb0IsSUFBQWdFLEVBQUEsS0FDbEIyQyxFQUFBQyxFQUFBcUMsRUFBQXBDLFdBQUEsMEJBQUFWLEtBQUEsTUFDQXRILEtBQUt3SCxNQUFNdkUsaUJBQWlCLFVBQVUsU0FBQzJELEdBQ3JDQSxFQUFJdkIsaUJBQ0pGLEVBQUttRixtQkFBbUJuRixFQUFLekUsUUFBU3lFLEVBQUs1QyxPQUMzQ3VGLEVBQUFDLEVBQUFxQyxFQUFBcEMsV0FBQSxRQUFBN0MsR0FBQW1DLEtBQUFuQyxFQUNGLEdBQ0YsTSxvRUFBQ2lGLENBQUEsQ0F6QjBCLENBQVMvRCxHLDBHQ1V0QyxJQWtCSXZHLEVBbEJFMEssRUFBWXJJLFNBQVNDLGNBQWMsZUFDbkNxSSxFQUFvQnRJLFNBQVNDLGNBQWMseUJBQzNDc0ksRUFBWXZJLFNBQVNDLGNBQWMsb0NBQ25DdUksRUFBYXhJLFNBQVNDLGNBQWMsaUNBQ3BDMEcsRUFBUTNHLFNBQVNDLGNBQWMsbUJBQy9CZ0csRUFBUWpHLFNBQVNDLGNBQWMsc0JBQy9Cd0ksRUFBYXpJLFNBQVNDLGNBQWMsb0JBQ3BDeUksRUFBVzFJLFNBQVNDLGNBQWMsY0FDbEMwSSxFQUFjM0ksU0FBU0MsY0FBYyx3QkFDckMySSxFQUFlNUksU0FBU0MsY0FBYyxvQkFDdEM0SSxFQUFnQjdJLFNBQVNDLGNBQWMscUJBQ3ZDNkksRUFBa0I5SSxTQUFTQyxjQUFjLGlCQUN6QzhJLEVBQXNCL0ksU0FBU0MsY0FBYyx1QkFDN0MrSSxFQUFtQmhKLFNBQVNDLGNBQWMsa0JBQzFDZ0osR0FBZ0JqSixTQUFTQyxjQUFjLDZCQUV2Q2lKLEdBQWlCbEosU0FBU0MsY0FBYyxhQUN4Q2tKLEdBQWNuSixTQUFTQyxjQUFjLHVCQUdyQ21KLEdBQU0sSUFBSWpDLEVQaENNLENBQ3BCRSxJQUFLLDhDQUNMRSxRQUFTLENBQ1A4QixjQUFlLHVDQUNmLGVBQWdCLHNCTzhCcEJDLFFBQVFDLElBQUlYLEdBRVosSUFBTVksR0FBa0IsSUFBSWhELEVBQWUyQyxJQUNyQ00sR0FBVyxJQUFJekQsRUFBUyxDQUM1QjNILEtBQU1zSSxFQUNOVixNQUFPQSxFQUNQQyxPQUFRdUMsSUFHVnpCLFFBQVEwQyxJQUFJLENBQUNOLEdBQUlPLGNBQWVQLEdBQUlRLG9CQUNqQzlCLE1BQUssU0FBQXpFLEdBQTRCLEksSUFBQWtELEcsRUFBQSxFLDRDQUFBbEQsSSxvMkJBQTFCd0csRUFBUXRELEVBQUEsR0FBRXVELEVBQVV2RCxFQUFBLEdBQzFCa0QsR0FBU00sWUFBWUYsR0FDckJsTSxFQUFTa00sRUFBU3JMLElBQ2xCd0wsR0FBVUMsWUFBWUgsRUFDeEIsSUFDQ0ksT0FBTSxTQUFDQyxHQUNOYixRQUFRQyxJQUFJWSxFQUNkLElBRUYsSUFBTUgsR0FBWSxJQUFJNUcsRUFDcEIsQ0FDRUcsU0FBVSxTQUFDSyxHQUNUb0csR0FBVUksV0FBV0MsR0FBV3pHLEdBQ2xDLEdBRUZzRixJQUdJbUIsR0FBYSxTQUFDL00sR0FVbEIsT0FUYSxJQUFJRCxFQUNmQyxFQUNBLG9CQUNBRSxHQUNBQyxHQUNBQyxHQUNBQyxHQUV1QjJNLFFBRTNCLEVBRUEsU0FBUzVNLEdBQWUwSyxFQUFNSixHQUN2QkksRUFBS21DLE9BUVJuQixHQUNHb0IsV0FBV3hDLEdBQ1hGLE1BQUssU0FBQ2pCLEdBQ0x1QixFQUFLcUMsU0FBUzVELEVBQUloSSxNQUNwQixJQUNDcUwsT0FBTSxTQUFDQyxHQUFHLE9BQUtiLFFBQVFDLElBQUlZLEVBQUksSUFabENmLEdBQ0dzQixTQUFTMUMsR0FDVEYsTUFBSyxTQUFDakIsR0FDTHVCLEVBQUtxQyxTQUFTNUQsRUFBSWhJLE1BQ3BCLElBQ0NxTCxPQUFNLFNBQUNDLEdBQUcsT0FBS2IsUUFBUUMsSUFBSVksRUFBSSxHQVN0QyxDQUVBLElBQU1RLEdBQWUsSUFBSTFDLEVBQ3ZCZSxHQVFGLFNBQTZCWixHQUMzQnVDLEdBQWFDLGNBQWMsZUFDM0J4QixHQUNHeUIsV0FBV3pDLEVBQUs3SixTQUNoQnVKLE1BQUssV0FDSk0sRUFBSzBDLFFBQ1AsSUFDQ1osT0FBTSxTQUFDQyxHQUNOYixRQUFRQyxJQUFJWSxFQUNkLElBQ0NZLFNBQVEsV0FDUEosR0FBYUMsY0FBYyxLQUM3QixHQUNKLElBakJBLFNBQVNuTixHQUFpQjJLLEVBQU1KLEdBQzlCMkMsR0FBYUssS0FBSzVDLEVBQU1KLEVBQzFCLENBbUJBLFNBQVN4SyxHQUFnQm1KLEVBQU94SSxHQUM5QnFMLEdBQWdCd0IsS0FBS3JFLEVBQU94SSxFQUM5QixDQUpBd00sR0FBYU0sb0JBTWJ6QixHQUFnQnlCLG9CQUVoQixJQUFNQyxHQUFjLElBQUlwRyxFQUFjLENBQ3BDWCxjQUFldUUsRUFDZnhELFdBS0YsU0FBNkI2QyxHQUMzQm1ELEdBQVlOLGNBQWMsaUJBQzFCeEIsR0FDRytCLGFBQWFwRCxHQUNiRCxNQUFLLFNBQUNqQixHQUNMbUQsR0FBVUksV0FBV0MsR0FBV3hELEdBQ2xDLElBQ0NxRCxPQUFNLFNBQUNDLEdBQ05iLFFBQVFDLElBQUlZLEVBQ2QsSUFDQ1ksU0FBUSxXQUNQRyxHQUFZTixjQUFjLFVBQzVCLEdBQ0osSUFmQU0sR0FBWUQsb0JBaUJaLElBQU1HLEdBQVcsSUFBSXRHLEVBQWMsQ0FDakNYLGNBQWVrRSxFQUNmbkQsV0FHRixTQUE4QjVILEdBQzVCOE4sR0FBU1IsY0FBYyxpQkFDdkJ4QixHQUNHVyxZQUFZek0sR0FDWndLLE1BQUssU0FBQ2pCLEdBQ0w0QyxHQUFTTSxZQUFZbEQsR0FDckJ1RSxHQUFTMUcsT0FDWCxJQUNDd0YsT0FBTSxTQUFDQyxHQUNOYixRQUFRQyxJQUFJWSxFQUNkLElBQ0NZLFNBQVEsV0FDUEssR0FBU1IsY0FBYyxZQUN6QixHQUNKLElBRUFRLEdBQVNILG9CQUVULElBQU1JLEdBQWtCLElBQUl2RyxFQUFjLENBQ3hDWCxjQUFlMkUsRUFDZjVELFdBS0YsU0FBb0NzQyxHQUNsQzRCLEdBQ0drQyxjQUFjOUQsRUFBUXRCLFFBQ3RCNEIsTUFBSyxTQUFDakIsR0FDTDRDLEdBQVNNLFlBQVlsRCxHQUNyQndFLEdBQWdCM0csT0FDbEIsSUFDQ3dGLE9BQU0sU0FBQ0MsR0FDTmIsUUFBUUMsSUFBSVksRUFDZCxHQUNKLElBWkFrQixHQUFnQkosb0JBY2hCdEMsRUFBWTdILGlCQUFpQixTQUFTLFdBQ3BDeUssR0FBa0JDLGtCQUNsQk4sR0FBWUYsTUFDZCxJQUVBL0IsR0FBY25JLGlCQUFpQixTQUFTLFdBQ3RDMkssR0FBcUJELGtCQUNyQkgsR0FBZ0JMLE1BQ2xCLElBRUExQyxFQUFrQnhILGlCQUFpQixTQUFTLFdBQzFDLElBQUE0SyxFQUF1QmpDLEdBQVNFLGNBQXhCdEwsRUFBSXFOLEVBQUpyTixLQUFNaUksRUFBSW9GLEVBQUpwRixLQUNkaUMsRUFBVXZKLE1BQVFYLEVBQ2xCbUssRUFBV3hKLE1BQVFzSCxFQUNuQnFGLEdBQW1CSCxrQkFDbkJKLEdBQVNKLE1BQ1gsSUFFQSxJQUFNVyxHQUFxQixJQUFJM0ssRUFBZStDLEVBQWtCOEUsR0FDaEU4QyxHQUFtQkMsbUJBRW5CLElBQU1MLEdBQW9CLElBQUl2SyxFQUFlK0MsRUFBa0I2RSxHQUMvRDJDLEdBQWtCSyxtQkFFbEIsSUFBTUgsR0FBdUIsSUFBSXpLLEVBQy9CK0MsRUFDQWdGLEdBR0YwQyxHQUFxQkcsa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL3BvcHVwV2l0aFdhcm5pbmcuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSxcclxuICAgIHRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2ssXHJcbiAgICBoYW5kbGVDYXJkUmVtb3ZlLFxyXG4gICAgaGFuZGxlQ2FyZExpa2UsXHJcbiAgICB1c2VySWRcclxuICApIHtcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG5cclxuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZUNhcmRSZW1vdmUgPSBoYW5kbGVDYXJkUmVtb3ZlO1xyXG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVDYXJkTGlrZTtcclxuXHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fdGl0bGUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5faXNMaWtlID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBzZXRMaWtlcyhhbm90aGVyTGlrZSkge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLl9saWtlcy5maW5kSW5kZXgoKGxpa2UpID0+IGxpa2UuX2lkID09PSBhbm90aGVyTGlrZS5faWQpO1xyXG5cclxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgICAgdGhpcy5fbGlrZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgdGhpcy5faXNMaWtlID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9saWtlcy5wdXNoKGFub3RoZXJMaWtlKTtcclxuICAgICAgdGhpcy5faXNMaWtlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICB0aGlzLl9idG5MaWtlLmNsYXNzTGlzdC50b2dnbGUoXCJlbGVtZW50X19idXR0b24tbGlrZV9hY3RpdmVcIik7XHJcbiAgfVxyXG5cclxuICBkZWxldGUoKSB7XHJcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZSA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKTtcclxuICB9XHJcblxyXG4gIGNyZWF0ZSgpIHtcclxuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX3RlbXBsYXRlLmNsb25lTm9kZSh0cnVlKTtcclxuICAgIHRoaXMuX2NhcmRJbWcgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1nXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3RpdGxlXCIpO1xyXG4gICAgdGhpcy5fYnRuTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19idXR0b24tbGlrZVwiKTtcclxuICAgIHRoaXMuX2J0bkRlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19kZWwtYnRuXCIpO1xyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2UtY291bnRlclwiKTtcclxuXHJcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB0aGlzLl9idG5EZWxldGUucmVtb3ZlKCk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltZy5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9kYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1nLmFsdCA9IHRoaXMuX2RhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuXHJcbiAgICB0aGlzLl9saWtlcy5mb3JFYWNoKChsaWtlKSA9PiB7XHJcbiAgICAgIGlmIChsaWtlLl9pZCA9PT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgICAgdGhpcy5fYnRuTGlrZS5jbGFzc0xpc3QuYWRkKFwiZWxlbWVudF9fYnV0dG9uLWxpa2VfYWN0aXZlXCIpO1xyXG4gICAgICAgIHRoaXMuX2lzTGlrZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2J0bkxpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZExpa2UodGhpcywgdGhpcy5fY2FyZElkKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgdGhpcy5fYnRuRGVsZXRlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRSZW1vdmUodGhpcyk7XHJcbiAgICB9KTtcclxuICBcclxuICAgIHRoaXMuX2NhcmRJbWcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX3RpdGxlLCB0aGlzLl9saW5rKTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgdGhpcy5fbGlrZXNDb3VudGVyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKHRoaXMsIHRoaXMuX2NhcmRJZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdldCBpc0xpa2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faXNMaWtlO1xyXG4gIH1cclxufSIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuXHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKFxyXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcclxuICAgICk7XHJcblxyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgX2VuYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcblxyXG4iLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuXHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBzZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKGl0ZW1zKSB7XHJcbiAgICBpdGVtcy5yZXZlcnNlKCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkTmV3SXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn0iLCJleHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIHVybDogXCJodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYwXCIsXHJcbiAgaGVhZGVyczoge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCIyYzU5YWY1OS0xMGRjLTQzZjQtYWU3NS1iZTIwMmZjNWM1ODJcIixcclxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgdmFsaWRhdGlvbkNvbmZpZyA9IHtcclxuICAgIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcclxuICAgIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gICAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zdWJtaXRcIixcclxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwicG9wdXBfX3N1Ym1pdF9pbmFjdGl2ZVwiLFxyXG4gICAgaW5wdXRFcnJvckNsYXNzOiBcIi5wb3B1cF9faW5wdXQtZXJyb3JcIixcclxuICAgIGVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0LWVycm9yX3Zpc2libGVcIixcclxuICAgIHR5cGVFcnJvcjogXCIucG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICB9O1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBwb3B1cFNlbGVjdG9yO1xyXG4gICAgdGhpcy5fYnV0dG9uQ2xvc2UgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b24tY2xvc2VkXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY2xvc2VQb3B1cEJ5T3ZlcmxheUNsaWNrKGV2dCkge1xyXG4gICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9idXR0b25DbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgdGhpcy5fY2xvc2VQb3B1cEJ5T3ZlcmxheUNsaWNrKGV2dCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgZm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3BvcHVwID0gcG9wdXBTZWxlY3RvcjtcclxuICAgIHRoaXMuX2Zvcm1TdWJtaXQgPSBmb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2Zvcm1cIik7XHJcbiAgICB0aGlzLl9idG5TdWJtaXQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdCcpO1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dFZhbHVlcyA9IHt9O1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKFxyXG4gICAgICAoaW5wdXQpID0+ICh0aGlzLl9pbnB1dFZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlKVxyXG4gICAgKTtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEJ1dHRvblRleHQodGV4dCkge1xyXG4gICAgdGhpcy5fYnRuU3VibWl0LnRleHRDb250ZW50ID0gdGV4dFxyXG4gIH1cclxuXHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9mb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG4iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgYWJvdXQsIGF2YXRhciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2luZm8gPSBhYm91dDtcclxuICAgIHRoaXMuX2F2YXRhciA9IGF2YXRhcjtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgaW5mbzogdGhpcy5faW5mby50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9hdmF0YXIuc3JjXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCwgYXZhdGFyIH0pIHtcclxuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2luZm8udGV4dENvbnRlbnQgPSBhYm91dDtcclxuICB9XHJcbn1cclxuXHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9wb3B1cCA9IHBvcHVwU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9wb3B1cEltZyA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltZ1wiKTtcclxuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX190aXRsZS1pbWdcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKHRpdGxlLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9wb3B1cEltZy5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fcG9wdXBJbWcuYWx0ID0gdGl0bGU7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gdGl0bGU7XHJcblxyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxufVxyXG4iLCJjb25zdCBoYW5kbGVSZXNwb25jZSA9IChyZXMpID0+IHtcclxuICBpZiAocmVzLm9rKSB7XHJcbiAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICB9XHJcbiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGDQntGI0LjQsdC60LA6ICR7cmVzLnN0YXR1c31gKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgaW5zdGFsbEF2YXRhcihuZXdMaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBuZXdMaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uY2UpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uY2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKGhhbmRsZVJlc3BvbmNlKTtcclxuICB9XHJcblxyXG4gIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbihoYW5kbGVSZXNwb25jZSk7XHJcbiAgfVxyXG5cclxuICBnZXRQbGFjZUNhcmQoY2FyZEVsZW1lbnQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogY2FyZEVsZW1lbnQubmFtZSxcclxuICAgICAgICBsaW5rOiBjYXJkRWxlbWVudC5saW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uY2UpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KS50aGVuKGhhbmRsZVJlc3BvbmNlKVxyXG4gIH1cclxuXHJcbiAgbGlrZVJlbW92ZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oaGFuZGxlUmVzcG9uY2UpXHJcbiAgfVxyXG5cclxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbihoYW5kbGVSZXNwb25jZSlcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoV2FybmluZyBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBjb25maXJtRm9ybVN1Ym1pdCkge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9idG5TdWJtaXQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19zdWJtaXRcIik7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICB0aGlzLl9jb25maXJtRm9ybVN1Ym1pdCA9IGNvbmZpcm1Gb3JtU3VibWl0O1xyXG4gIH1cclxuXHJcbiAgb3BlbihjYXJkSWQsIGNhcmQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmRJZDtcclxuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xyXG4gIH1cclxuXHJcbiAgc2V0QnV0dG9uVGV4dCh0ZXh0KSB7XHJcbiAgICB0aGlzLl9idG5TdWJtaXQudGV4dENvbnRlbnQgPSB0ZXh0XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5fY29uZmlybUZvcm1TdWJtaXQodGhpcy5fY2FyZElkLCB0aGlzLl9jYXJkKTtcclxuICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0aW9uLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IHZhbGlkYXRpb25Db25maWcgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhXYXJuaW5nIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcG9wdXBXaXRoV2FybmluZy5qc1wiO1xyXG5cclxuY29uc3QgcG9wdXBFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1lZGl0XCIpO1xyXG5jb25zdCBidXR0b25FZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IG5hbWVFbnRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3RleHRfdHlwZS11c2VybmFtZVwiKTtcclxuY29uc3QgYWJvdXRFbnRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2lucHV0X3RleHRfdHlwZS1hYm91dFwiKTtcclxuY29uc3QgdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xyXG5jb25zdCBhYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3VidGl0bGVcIik7XHJcbmNvbnN0IHVzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKTtcclxuY29uc3QgcG9wdXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWFkZFwiKTtcclxuY29uc3QgYnRuUG9wdXBBZGQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbmNvbnN0IHBvcHVwQWRkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtYWRkX19mb3JtXCIpO1xyXG5jb25zdCBwb3B1cEVkaXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1lZGl0X19mb3JtXCIpO1xyXG5jb25zdCBwb3B1cEVkaXRBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLWF2YXRhclwiKTtcclxuY29uc3QgcG9wdXBFZGl0QXZhdGFyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtYXZhdGFyX19mb3JtXCIpO1xyXG5jb25zdCBwb3B1cE9wZW5XYXJuaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC13YXJuaW5nXCIpO1xyXG5jb25zdCBidG5FZGl0QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXItZWRpdC1idG5cIik7XHJcblxyXG5jb25zdCBjYXJkc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNcIik7XHJcbmNvbnN0IHBvcHVwQmlnSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9vcGVuX2JpZy1pbWdcIik7XHJcbmxldCB1c2VySWQ7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKGNvbmZpZyk7XHJcblxyXG5jb25zb2xlLmxvZyhwb3B1cEFkZEZvcm0pO1xyXG5cclxuY29uc3QgcG9wdXBPcGVuQmlnSW1nID0gbmV3IFBvcHVwV2l0aEltYWdlKHBvcHVwQmlnSW1nKTtcclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWU6IHRpdGxlLFxyXG4gIGFib3V0OiBhYm91dCxcclxuICBhdmF0YXI6IHVzZXJBdmF0YXIsXHJcbn0pO1xyXG5cclxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0SW5pdGlhbENhcmRzKCldKVxyXG4gIC50aGVuKChbdXNlckRhdGEsIGFycmF5Q2FyZHNdKSA9PiB7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbiAgICB1c2VySWQgPSB1c2VyRGF0YS5faWQ7XHJcbiAgICBjYXJkc0xpc3QucmVuZGVySXRlbXMoYXJyYXlDYXJkcyk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5sb2coZXJyKTtcclxuICB9KTtcclxuXHJcbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxyXG4gIHtcclxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICBjYXJkc0xpc3QuYWRkTmV3SXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBjYXJkc0NvbnRhaW5lclxyXG4pO1xyXG5cclxuY29uc3QgY3JlYXRlQ2FyZCA9IChkYXRhKSA9PiB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxyXG4gICAgZGF0YSxcclxuICAgIFwiI2VsZW1lbnQtdGVtcGxhdGVcIixcclxuICAgIGhhbmRsZUNhcmRDbGljayxcclxuICAgIGhhbmRsZUNhcmRSZW1vdmUsXHJcbiAgICBoYW5kbGVDYXJkTGlrZSxcclxuICAgIHVzZXJJZFxyXG4gICk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmNyZWF0ZSgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRMaWtlKGNhcmQsIGNhcmRJZCkge1xyXG4gIGlmICghY2FyZC5pc0xpa2UpIHtcclxuICAgIGFwaVxyXG4gICAgICAubGlrZUNhcmQoY2FyZElkKVxyXG4gICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgY2FyZC5zZXRMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGFwaVxyXG4gICAgICAubGlrZVJlbW92ZShjYXJkSWQpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBjYXJkLnNldExpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IHBvcHVwV2FybmluZyA9IG5ldyBQb3B1cFdpdGhXYXJuaW5nKFxyXG4gIHBvcHVwT3Blbldhcm5pbmcsXHJcbiAgY2hlY2tCZWZvcmVEZWxldGlvblxyXG4pO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZFJlbW92ZShjYXJkLCBjYXJkSWQpIHtcclxuICBwb3B1cFdhcm5pbmcub3BlbihjYXJkLCBjYXJkSWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0JlZm9yZURlbGV0aW9uKGNhcmQpIHtcclxuICBwb3B1cFdhcm5pbmcuc2V0QnV0dG9uVGV4dChcItCj0LTQsNC70LXQvdC40LUuLi5cIik7XHJcbiAgYXBpXHJcbiAgICAuZGVsZXRlQ2FyZChjYXJkLl9jYXJkSWQpXHJcbiAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgIGNhcmQuZGVsZXRlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIHBvcHVwV2FybmluZy5zZXRCdXR0b25UZXh0KFwi0JTQsFwiKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5wb3B1cFdhcm5pbmcuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayh0aXRsZSwgbGluaykge1xyXG4gIHBvcHVwT3BlbkJpZ0ltZy5vcGVuKHRpdGxlLCBsaW5rKTtcclxufVxyXG5cclxucG9wdXBPcGVuQmlnSW1nLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBmb3JtQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBwb3B1cEFkZCxcclxuICBmb3JtU3VibWl0OiBoYW5kbGVGb3JtQWRkU3VibWl0LFxyXG59KTtcclxuXHJcbmZvcm1BZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVGb3JtQWRkU3VibWl0KGNhcmRFbGVtZW50KSB7XHJcbiAgZm9ybUFkZENhcmQuc2V0QnV0dG9uVGV4dChcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLmdldFBsYWNlQ2FyZChjYXJkRWxlbWVudClcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY2FyZHNMaXN0LmFkZE5ld0l0ZW0oY3JlYXRlQ2FyZChyZXMpKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgZm9ybUFkZENhcmQuc2V0QnV0dG9uVGV4dChcItCh0L7Qt9C00LDRgtGMXCIpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGZvcm1FZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xyXG4gIHBvcHVwU2VsZWN0b3I6IHBvcHVwRWRpdCxcclxuICBmb3JtU3VibWl0OiBoYW5kbGVGb3JtRWRpdFN1Ym1pdCxcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVGb3JtRWRpdFN1Ym1pdChkYXRhKSB7XHJcbiAgZm9ybUVkaXQuc2V0QnV0dG9uVGV4dChcItCh0L7RhdGA0LDQvdC10L3QuNC1Li4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLnNldFVzZXJJbmZvKGRhdGEpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgIGZvcm1FZGl0LmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pXHJcbiAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgIGZvcm1FZGl0LnNldEJ1dHRvblRleHQoXCLQodC+0YXRgNCw0L3QuNGC0YxcIik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZm9ybUVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcclxuICBwb3B1cFNlbGVjdG9yOiBwb3B1cEVkaXRBdmF0YXIsXHJcbiAgZm9ybVN1Ym1pdDogaGFuZGxlRm9ybUVkaXRBdmF0YXJTdWJtaXQsXHJcbn0pO1xyXG5cclxucG9wdXBXaXRoQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVGb3JtRWRpdEF2YXRhclN1Ym1pdChuZXdMaW5rKSB7XHJcbiAgYXBpXHJcbiAgICAuaW5zdGFsbEF2YXRhcihuZXdMaW5rLmF2YXRhcilcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8ocmVzKTtcclxuICAgICAgcG9wdXBXaXRoQXZhdGFyLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5idG5Qb3B1cEFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGZvcm1BZGRWYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGZvcm1BZGRDYXJkLm9wZW4oKTtcclxufSk7XHJcblxyXG5idG5FZGl0QXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZm9ybUF2YXRhclZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgcG9wdXBXaXRoQXZhdGFyLm9wZW4oKTtcclxufSk7XHJcblxyXG5idXR0b25FZGl0UHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IHsgbmFtZSwgaW5mbyB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBuYW1lRW50ZXIudmFsdWUgPSBuYW1lO1xyXG4gIGFib3V0RW50ZXIudmFsdWUgPSBpbmZvO1xyXG4gIGZvcm1FZGl0VmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxuICBmb3JtRWRpdC5vcGVuKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgZm9ybUVkaXRWYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0aW9uKHZhbGlkYXRpb25Db25maWcsIHBvcHVwRWRpdEZvcm0pO1xyXG5mb3JtRWRpdFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgZm9ybUFkZFZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZywgcG9wdXBBZGRGb3JtKTtcclxuZm9ybUFkZFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuY29uc3QgZm9ybUF2YXRhclZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRpb24oXHJcbiAgdmFsaWRhdGlvbkNvbmZpZyxcclxuICBwb3B1cEVkaXRBdmF0YXJGb3JtXHJcbik7XHJcblxyXG5mb3JtQXZhdGFyVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVDYXJkUmVtb3ZlIiwiaGFuZGxlQ2FyZExpa2UiLCJ1c2VySWQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUNhcmRSZW1vdmUiLCJfaGFuZGxlQ2FyZExpa2UiLCJfbGluayIsImxpbmsiLCJfdGl0bGUiLCJuYW1lIiwiX2RhdGEiLCJfY2FyZElkIiwiX2lkIiwiX3VzZXJJZCIsIl9vd25lcklkIiwib3duZXIiLCJfbGlrZXMiLCJsaWtlcyIsIl9pc0xpa2UiLCJrZXkiLCJ2YWx1ZSIsImFub3RoZXJMaWtlIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJsaWtlIiwic3BsaWNlIiwicHVzaCIsIl9saWtlc0NvdW50ZXIiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsIl9idG5MaWtlIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2VsZW1lbnQiLCJyZW1vdmUiLCJfdGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiX3RoaXMiLCJfY2FyZCIsIl9nZXRUZW1wbGF0ZSIsImNsb25lTm9kZSIsIl9jYXJkSW1nIiwiX2NhcmRUaXRsZSIsIl9idG5EZWxldGUiLCJzcmMiLCJhbHQiLCJmb3JFYWNoIiwiYWRkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldCIsIkZvcm1WYWxpZGF0aW9uIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX2J1dHRvbkVsZW1lbnQiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImlucHV0RWxlbWVudCIsImVycm9yRWxlbWVudCIsImNvbmNhdCIsImlkIiwiZXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yTWVzc2FnZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInNvbWUiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfaGFzSW52YWxpZElucHV0IiwiX2Rpc2FibGVCdXR0b24iLCJfZW5hYmxlQnV0dG9uIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90aGlzMiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIlNlY3Rpb24iLCJfcmVmIiwic2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsInJldmVyc2UiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJ2YWxpZGF0aW9uQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwidHlwZUVycm9yIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2J1dHRvbkNsb3NlIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiX2Nsb3NlUG9wdXBCeU92ZXJsYXlDbGljayIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJmb3JtU3VibWl0IiwiY2FsbCIsIl9mb3JtU3VibWl0IiwiX2Zvcm0iLCJfYnRuU3VibWl0IiwiX2lucHV0VmFsdWVzIiwiaW5wdXQiLCJ0ZXh0IiwiX3RoaXMzIiwiX2dldCIsIl9nZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiVXNlckluZm8iLCJhYm91dCIsImF2YXRhciIsIl9uYW1lIiwiX2luZm8iLCJfYXZhdGFyIiwiaW5mbyIsIl9yZWYyIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBJbWciLCJfcG9wdXBUaXRsZSIsInRpdGxlIiwiaGFuZGxlUmVzcG9uY2UiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiQXBpIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsIm5ld0xpbmsiLCJmZXRjaCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwidGhlbiIsImNhcmRFbGVtZW50IiwiY2FyZElkIiwiUG9wdXBXaXRoV2FybmluZyIsImNvbmZpcm1Gb3JtU3VibWl0IiwiX2NvbmZpcm1Gb3JtU3VibWl0IiwiY2FyZCIsInBvcHVwRWRpdCIsImJ1dHRvbkVkaXRQcm9maWxlIiwibmFtZUVudGVyIiwiYWJvdXRFbnRlciIsInVzZXJBdmF0YXIiLCJwb3B1cEFkZCIsImJ0blBvcHVwQWRkIiwicG9wdXBBZGRGb3JtIiwicG9wdXBFZGl0Rm9ybSIsInBvcHVwRWRpdEF2YXRhciIsInBvcHVwRWRpdEF2YXRhckZvcm0iLCJwb3B1cE9wZW5XYXJuaW5nIiwiYnRuRWRpdEF2YXRhciIsImNhcmRzQ29udGFpbmVyIiwicG9wdXBCaWdJbWciLCJhcGkiLCJhdXRob3JpemF0aW9uIiwiY29uc29sZSIsImxvZyIsInBvcHVwT3BlbkJpZ0ltZyIsInVzZXJJbmZvIiwiYWxsIiwiZ2V0VXNlckluZm8iLCJnZXRJbml0aWFsQ2FyZHMiLCJ1c2VyRGF0YSIsImFycmF5Q2FyZHMiLCJzZXRVc2VySW5mbyIsImNhcmRzTGlzdCIsInJlbmRlckl0ZW1zIiwiY2F0Y2giLCJlcnIiLCJhZGROZXdJdGVtIiwiY3JlYXRlQ2FyZCIsImNyZWF0ZSIsImlzTGlrZSIsImxpa2VSZW1vdmUiLCJzZXRMaWtlcyIsImxpa2VDYXJkIiwicG9wdXBXYXJuaW5nIiwic2V0QnV0dG9uVGV4dCIsImRlbGV0ZUNhcmQiLCJkZWxldGUiLCJmaW5hbGx5Iiwib3BlbiIsInNldEV2ZW50TGlzdGVuZXJzIiwiZm9ybUFkZENhcmQiLCJnZXRQbGFjZUNhcmQiLCJmb3JtRWRpdCIsInBvcHVwV2l0aEF2YXRhciIsImluc3RhbGxBdmF0YXIiLCJmb3JtQWRkVmFsaWRhdGlvbiIsInJlc2V0VmFsaWRhdGlvbiIsImZvcm1BdmF0YXJWYWxpZGF0aW9uIiwiX3VzZXJJbmZvJGdldFVzZXJJbmZvIiwiZm9ybUVkaXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=